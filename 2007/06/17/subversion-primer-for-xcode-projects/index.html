<!doctype html>
<html class="no-js" lang="ja">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <base href="http://www.metareal.org/">
  <title>Xcode プロジェクトを Subversion 管理する</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="canonical" href="http://www.metareal.org/2007/06/17/subversion-primer-for-xcode-projects/">
  <link href="" rel="alternate" type="application/rss+xml" title="METAREAL" />
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/application.css">
  <link rel="stylesheet" href="css/highlight/tomorrow.css">
  <script src="js/vendor/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>


<article>
  <h1>Xcode プロジェクトを Subversion 管理する</h1>
  <div class="metadata">
    <p class="date">2007/06/18 3:35am</p>
  </div>
  <div class="content">
    

<p>Apple の提供する開発環境 <a href="http://www.apple.com/jp/macosx/features/xcode/">Xcode</a> で作成したプロジェクトを Subversion 管理する手順。基本的に「<a href="http://rails.office.drecom.jp/ishikawa/archive/26">Rails のプロジェクトを Subversion で管理する</a>」の Xcode 版。</p>

<h3 id="リポジトリの場所を決める:84949e6a353c13bf30ea590aa956b65a">リポジトリの場所を決める</h3>

<p>まずは、リポジトリのルート URL を決めて、これを環境変数に設定しよう。以降はこの変数を使うことで、長々とした URL をタイプする手間が省ける。</p>

<pre><code>% SVN_REPO=svn+ssh://svn.example.com/projects/Example
</code></pre>

<p>もちろん、実際の URL は自分で使うものに置き換えてほしい。</p>

<h3 id="空のプロジェクトをコミットする:84949e6a353c13bf30ea590aa956b65a">空のプロジェクトをコミットする</h3>

<p>ここで、いきなり Xcode を起動して新規プロジェクトをつくるのではなく、まずは、プロジェクトのディレクトリ・レイアウトを構成した、空のプロジェクトをコミットする。</p>

<p>Subversion 管理するプロジェクトのディレクトリ・レイアウトといえば、<code>trunk branches tags</code> が王道なので、これに合わせておくのがいいだろう。たとえ、開発者があなたひとりで、職場の数人しか使わないようなアプリケーションを開発しており、ブランチなんか作る予定がないのだとしても。</p>

<pre><code>% mkdir tmp
% cd tmp
% mkdir trunk tags branches
% svn import ./ ${SVN_REPO} -m &quot;initial import&quot;
Adding         trunk
Adding         branches
Adding         tags

Committed revision 20.
</code></pre>

<p>コミットしたら、このディレクトリは必要ないので削除しても大丈夫だ。</p>

<pre><code>% cd ..
% rm -rf tmp
</code></pre>

<h3 id="xcode-のプロジェクトにチェックアウト:84949e6a353c13bf30ea590aa956b65a">Xcode のプロジェクトにチェックアウト</h3>

<p>そうして、コミットした空のプロジェクトを Xocde のプロジェクト・ディレクトリにチェックアウトすれば、Subversion 管理された Xcode プロジェクトが出来上がる。この方法なら、すでに開発中のプロジェクトにも適用しやすい。</p>

<p>ここでは、<code>~/Developer/Workspace/Example/</code> に Xcode のプロジェクトを作成しているものとする。そのディレクトリに移動し、さきほどコミットしたプロジェクトの <code>trunk</code> をチェックアウトしよう。</p>

<pre><code>% cd ~/Developer/Workspace/Example/
% svn checkout ${SVN_REPO}/trunk .
</code></pre>

<h3 id="バージョン管理するファイルの選択:84949e6a353c13bf30ea590aa956b65a">バージョン管理するファイルの選択</h3>

<p>ここまでで、</p>

<ol>
<li>プロジェクトのディレクトリ・レイアウトを決める</li>
<li>空のプロジェクトをコミットする</li>
<li>Xcode プロジェクトにチェックアウト</li>
</ol>

<p>が出来た。</p>

<p>もちろん、いまは空のディレクトリをチェックアウトしただけなので、Xcode プロジェクト内のファイルはいずれもバージョン管理されていない。</p>

<p>ひとつひとつ、必要なファイルを <code>svn add</code> してもかまわないが、最初にすべてを <code>svn add</code> してしまって、不要なものを取り除くのが簡単だ。</p>

<pre><code>% svn add --force .
A         Example.xcodeproj
A         Example.xcodeproj/ishikawa.mode1
A         Example.xcodeproj/ishikawa.pbxuser
A         Example.xcodeproj/project.pbxproj
A         Example_Prefix.pch
A         build
</code></pre>

<p>ビルド結果が保存される <code>build</code> ディレクトリはバージョン管理しなくてもよいだろう。まずは、このディレクトリを管理対象から外す。</p>

<pre><code>% svn revert build --recursive
% svn propset svn:ignore &quot;build&quot; .
</code></pre>

<p>Xcode の<a href="http://developer.apple.com/DOCUMENTATION/DeveloperTools/Conceptual/XcodeUserGuide/Contents/Resources/ja.lproj/04_02_SCMManagingProjects/chapter_27_section_2.html#//apple_ref/doc/uid/TP40002686-BAJFCAII">プロジェクトパッケージ</a> <code>.xcodeproj</code> にはユーザー特有のファイルが含まれているので、複数人で開発する場合は、これらも管理対象から外しておいた方がいいだろう。</p>

<pre><code>% svn revert Example.xcodeproj/ishikawa.*
% svn propedit svn:ignore Example.xcodeproj/
*.mode1
*.pbxuser
</code></pre>

<p>最後に変更をコミットして終わり。</p>

<pre><code>% svn commit -m &quot;New Xcode project&quot;
</code></pre>

  </div>
</article>

<nav class="pagination">
  <ul>
    
    <li class="next"><i class="fa fa-angle-left"></i><a href="http://www.metareal.org/2007/06/19/xcode-subversion-troubleshooting/">Xcode で Subversion を利用するときのトラブルシューティング</a></li>
    
    
    <li class="prev"><a href="http://www.metareal.org/2007/06/16/sync-different-mac-with-dotmac/">.Mac の同期機能がすごく便利です</a><i class="fa fa-angle-right"></i></li>
    
  </ul>
</nav>

<footer>
  <ul class="about">
    <li><a href="https://twitter.com/takanori_is">Twitter</a></li>
    <li><a href="https://github.com/ishikawa">Github</a></li>
  </ul>
  <h2><a href="/">METAREAL</a></h2>
  <p class="copyright">copyright &copy; 2006-Present Takanori Ishikawa</p>
</footer>


</body>
</html>
